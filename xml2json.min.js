!function(t,e){t.X2JS=e()}(this,function(){return function(t){"use strict";function e(){void 0===t.escapeMode&&(t.escapeMode=!0),t.attributePrefix=t.attributePrefix||"_",t.arrayAccessForm=t.arrayAccessForm||"none",t.emptyNodeForm=t.emptyNodeForm||"text",void 0===t.enableToStringFunc&&(t.enableToStringFunc=!0),t.arrayAccessFormPaths=t.arrayAccessFormPaths||[],void 0===t.skipEmptyTextNodesForObj&&(t.skipEmptyTextNodesForObj=!0),void 0===t.stripWhitespaces&&(t.stripWhitespaces=!0),t.datetimeAccessFormPaths=t.datetimeAccessFormPaths||[],void 0===t.useDoubleQuotes&&(t.useDoubleQuotes=!1),t.xmlElementsFilter=t.xmlElementsFilter||[],t.jsonPropertiesFilter=t.jsonPropertiesFilter||[],void 0===t.keepCData&&(t.keepCData=!1)}function n(){}function r(t){var e=t.localName;return null==e&&(e=t.baseName),(null==e||""==e)&&(e=t.nodeName),e}function i(t){return t.prefix}function a(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):t}function s(t,e,n,r){for(var i=0;i<t.length;i++){var a=t[i];if("string"==typeof a){if(a==r)break}else if(a instanceof RegExp){if(a.test(r))break}else if("function"==typeof a&&a(e,n,r))break}return i!=t.length}function o(e,n,r){switch(t.arrayAccessForm){case"property":e[n]instanceof Array?e[n+"_asArray"]=e[n]:e[n+"_asArray"]=[e[n]]}!(e[n]instanceof Array)&&t.arrayAccessFormPaths.length>0&&s(t.arrayAccessFormPaths,e,n,r)&&(e[n]=[e[n]])}function l(t){var e=t.split(/[-T:+Z]/g),n=new Date(e[0],e[1]-1,e[2]),r=e[5].split(".");if(n.setHours(e[3],e[4],r[0]),r.length>1&&n.setMilliseconds(r[1]),e[6]&&e[7]){var i=60*e[6]+Number(e[7]),a=/\d\d-\d\d:\d\d$/.test(t)?"-":"+";i=0+("-"==a?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else-1!==t.indexOf("Z",t.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function c(e,n,r){if(t.datetimeAccessFormPaths.length>0){var i=r.split(".#")[0];return s(t.datetimeAccessFormPaths,e,n,i)?l(e):e}return e}function u(e,n,r,i){return n==A.ELEMENT_NODE&&t.xmlElementsFilter.length>0?s(t.xmlElementsFilter,e,r,i):!0}function _(e,n){if(e.nodeType==A.DOCUMENT_NODE){for(var a=new Object,s=e.childNodes,l=0;l<s.length;l++){var f=s.item(l);if(f.nodeType==A.ELEMENT_NODE){var d=r(f);a[d]=_(f,d)}}return a}if(e.nodeType==A.ELEMENT_NODE){var a=new Object;a.__cnt=0;for(var s=e.childNodes,l=0;l<s.length;l++){var f=s.item(l),d=r(f);if(f.nodeType!=A.COMMENT_NODE){var p=n+"."+d;u(a,f.nodeType,d,p)&&(a.__cnt++,null==a[d]?(a[d]=_(f,p),o(a,d,p)):(null!=a[d]&&(a[d]instanceof Array||(a[d]=[a[d]],o(a,d,p))),a[d][a[d].length]=_(f,p)))}}for(var m=0;m<e.attributes.length;m++){var x=e.attributes.item(m);a.__cnt++,a[t.attributePrefix+x.name]=x.value}var g=i(e);return null!=g&&""!=g&&(a.__cnt++,a.__prefix=g),null!=a["#text"]&&(a.__text=a["#text"],a.__text instanceof Array&&(a.__text=a.__text.join("\n")),t.stripWhitespaces&&(a.__text=a.__text.trim()),delete a["#text"],"property"==t.arrayAccessForm&&delete a["#text_asArray"],a.__text=c(a.__text,d,n+"."+d)),null!=a["#cdata-section"]&&(a.__cdata=a["#cdata-section"],delete a["#cdata-section"],"property"==t.arrayAccessForm&&delete a["#cdata-section_asArray"]),0==a.__cnt&&"text"==t.emptyNodeForm?a="":1==a.__cnt&&null!=a.__text?a=a.__text:1!=a.__cnt||null==a.__cdata||t.keepCData?a.__cnt>1&&null!=a.__text&&t.skipEmptyTextNodesForObj&&(t.stripWhitespaces&&""==a.__text||""==a.__text.trim())&&delete a.__text:a=a.__cdata,delete a.__cnt,!t.enableToStringFunc||null==a.__text&&null==a.__cdata||(a.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),a}return e.nodeType==A.TEXT_NODE||e.nodeType==A.CDATA_SECTION_NODE?e.nodeValue:void 0}function f(e,n,r,i){var s="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+n;if(null!=r)for(var o=0;o<r.length;o++){var l=r[o],c=e[l];t.escapeMode&&(c=a(c)),s+=" "+l.substr(t.attributePrefix.length)+"=",s+=t.useDoubleQuotes?'"'+c+'"':"'"+c+"'"}return s+=i?"/>":">"}function d(t,e){return"</"+(null!=t.__prefix?t.__prefix+":":"")+e+">"}function p(t,e){return-1!==t.indexOf(e,t.length-e.length)}function m(e,n){return"property"==t.arrayAccessForm&&p(n.toString(),"_asArray")||0==n.toString().indexOf(t.attributePrefix)||0==n.toString().indexOf("__")||e[n]instanceof Function?!0:!1}function x(t){var e=0;if(t instanceof Object)for(var n in t)m(t,n)||e++;return e}function g(e,n,r){return 0==t.jsonPropertiesFilter.length||""==r||s(t.jsonPropertiesFilter,e,n,r)}function h(e){var n=[];if(e instanceof Object)for(var r in e)-1==r.toString().indexOf("__")&&0==r.toString().indexOf(t.attributePrefix)&&n.push(r);return n}function v(e){var n="";return null!=e.__cdata&&(n+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(n+=t.escapeMode?a(e.__text):e.__text),n}function y(e){var n="";return e instanceof Object?n+=v(e):null!=e&&(n+=t.escapeMode?a(e):e),n}function O(t,e){return""===t?e:t+"."+e}function E(t,e,n,r){var i="";if(0==t.length)i+=f(t,e,n,!0);else for(var a=0;a<t.length;a++)i+=f(t[a],e,h(t[a]),!1),i+=N(t[a],O(r,e)),i+=d(t[a],e);return i}function N(t,e){var n="",r=x(t);if(r>0)for(var i in t)if(!m(t,i)&&(""==e||g(t,i,O(e,i)))){var a=t[i],s=h(a);if(null==a||void 0==a)n+=f(a,i,s,!0);else if(a instanceof Object)if(a instanceof Array)n+=E(a,i,s,e);else if(a instanceof Date)n+=f(a,i,s,!1),n+=a.toISOString(),n+=d(a,i);else{var o=x(a);o>0||null!=a.__text||null!=a.__cdata?(n+=f(a,i,s,!1),n+=N(a,O(e,i)),n+=d(a,i)):n+=f(a,i,s,!0)}else n+=f(a,i,s,!1),n+=y(a),n+=d(a,i)}return n+=y(t)}var T="1.2.0";t=t||{},e(),n();var A={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(t){var e=window.ActiveXObject||"ActiveXObject"in window;if(void 0===t)return null;var n;if(window.DOMParser){var r=new window.DOMParser,i=null;if(!e)try{i=r.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(a){i=null}try{n=r.parseFromString(t,"text/xml"),null!=i&&n.getElementsByTagNameNS(i,"parsererror").length>0&&(n=null)}catch(a){n=null}}else 0==t.indexOf("<?")&&(t=t.substr(t.indexOf("?>")+2)),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t);return n},this.asArray=function(t){return void 0===t||null==t?[]:t instanceof Array?t:[t]},this.toXmlDateTime=function(t){return t instanceof Date?t.toISOString():"number"==typeof t?new Date(t).toISOString():null},this.asDateTime=function(t){return"string"==typeof t?l(t):t},this.xml2json=function(t){return _(t)},this.xml_str2json=function(t){var e=this.parseXmlString(t);return null!=e?this.xml2json(e):null},this.json2xml_str=function(t){return N(t,"")},this.json2xml=function(t){var e=this.json2xml_str(t);return this.parseXmlString(e)},this.getVersion=function(){return T}}});